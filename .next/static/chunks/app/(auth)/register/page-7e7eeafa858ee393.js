(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{172:(e,n,a)=>{"use strict";a.d(n,{A:()=>l});let l=(0,a(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4712:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>k});var l=a(5155),i=a(221),r=a(2177),s=a(5594),t=a(6874),c=a.n(t),d=a(5695),o=a(3004),m=a(2115),u=a(285),h=a(6695),x=a(7759),j=a(2523),p=a(7481),g=a(2400),f=a(172);let w=s.Ik({email:s.Yj().email({message:"Please enter a valid email."})});function N(){let e=(0,d.useSearchParams)(),n=(0,g.As)(),[a,s]=m.useState(!1),t=(0,r.mN)({resolver:(0,i.u)(w),defaultValues:{email:""}});async function f(a){s(!0);let l=e.get("redirectUrl")||"/dashboard",i={url:"".concat(window.location.origin,"/finish-signup?redirectUrl=").concat(encodeURIComponent(l)),handleCodeInApp:!0};try{await (0,o.MN)(n,a.email,i),window.localStorage.setItem("emailForSignIn",a.email),(0,p.oR)({title:"Check Your Email",description:"A sign-in link has been sent to ".concat(a.email,".")}),t.reset()}catch(e){console.error("Error sending sign-in link:",e),(0,p.oR)({title:"Error",description:e.message||"Failed to send sign-in link. Please try again.",variant:"destructive"})}finally{s(!1)}}return(0,l.jsxs)(h.Zp,{className:"w-full max-w-md",children:[(0,l.jsxs)(h.aR,{children:[(0,l.jsx)(h.ZB,{className:"text-2xl font-bold",children:"Create an Account"}),(0,l.jsx)(h.BT,{children:"Enter your email to receive a magic link and start your journey with CAUSAE Legaltech."})]}),(0,l.jsxs)(h.Wu,{children:[(0,l.jsx)(x.lV,{...t,children:(0,l.jsxs)("form",{onSubmit:t.handleSubmit(f),className:"space-y-6",children:[(0,l.jsx)(x.zB,{control:t.control,name:"email",render:e=>{let{field:n}=e;return(0,l.jsxs)(x.eI,{children:[(0,l.jsx)(x.lR,{children:"Email"}),(0,l.jsx)(x.MJ,{children:(0,l.jsx)(j.p,{placeholder:"name@example.com",...n})}),(0,l.jsx)(x.C5,{})]})}}),(0,l.jsx)(u.$,{type:"submit",className:"w-full",disabled:a,children:a?"Sending Link...":"Send Magic Link"}),(0,l.jsx)(u.$,{variant:"outline",className:"w-full",disabled:!0,children:"Sign up with Google"})]})}),(0,l.jsxs)("div",{className:"mt-6 text-center text-sm",children:["Already have an account?"," ",(0,l.jsx)(c(),{href:"/login?redirectUrl=".concat(e.get("redirectUrl")||""),className:"font-medium text-primary hover:underline",children:"Log in"})]})]})]})}function k(){return(0,l.jsx)(m.Suspense,{fallback:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8 h-[550px] w-[448px]",children:[(0,l.jsx)(f.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,l.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]}),children:(0,l.jsx)(N,{})})}},9188:(e,n,a)=>{Promise.resolve().then(a.bind(a,4712))}},e=>{var n=n=>e(e.s=n);e.O(0,[992,644,277,874,157,315,486,858,441,684,358],()=>n(9188)),_N_E=e.O()}]);